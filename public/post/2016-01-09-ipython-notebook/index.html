<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="generator" content="Hugo 0.70.0-DEV" />
		<title>IPython Notebook - Re9ulus Blog</title>

		<meta name="description" content="Как установить и что с ним потом делать">


		
	
		




<link rel="stylesheet" href="/re9ulus.github.io/css/ui.css">

	
		

		<link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono|Lato|Raleway">

		
	</head>

<body>
<header class="container no-print">
	<div class="u-header">
		<nav class="bar">
	<ul><li>
			<a href="/">
				<img class="icon-text" src="/img/prev.svg"/>
			</a>
		</li><li><a href="re9ulus.github.io/about">About</a></li><li><a href="re9ulus.github.io/post/">Posts</a></li></ul>
</nav>

	</div>
</header>
<main class="container">

<article>
	<header><hgroup id="brand">
	<h1>IPython Notebook</h1>
	<h5>
		
		<time datetime="2016-01-09 16:00:00 &#43;0000 UTC">Jan 09, 2016</time>
		<span class="no-print">
			<span>
	</h5>
	
</hgroup>
<hr class="sep" />
</header>
	<p>Как установить и что с ним потом делать</p>
<p>IPython Notebook - это интерактивная среда для программирования на языке python. Она позволяет объединить код, текст (включая <a href="https://daringfireball.net/projects/markdown/" title="Markdown">Markdown</a>), графики, математические формулы (<a href="https://www.mathjax.org/" title="Mathjax">MathJax</a>) и скомбинировать все в одном отчете. Отчет можно конвертировать в html, LaTeX, pdf и другие форматы.</p>
<p>Удобный инструмент для исследований, заметок, конспектов и тому подобного.
Многие <a href="http://nb.bianp.net/sort/views/" title="Links to the best IPython and Jupyter Notebooks.">статьи и учебные материалы</a> распространяются в виде ноутбуков.</p>
<h1 id="установка">Установка</h1>
<h2 id="1-способ">1 способ</h2>
<p>Самым простым способом установки является использование python дистрибутива <a href="https://www.continuum.io/downloads" title="Anaconda">Anaconda</a>, содержащего более 300 научных python пакетов, включая Ipython.</p>
<h2 id="2-способ">2 способ</h2>
<p>Для установки на *nix системах</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">pip</span> <span style="color:#111">install</span> <span style="color:#111">ipython</span><span style="color:#111">[</span><span style="color:#111">all</span><span style="color:#111">]</span>
</code></pre></div><p>Для установки на windows необходимо последовательно установить:</p>
<ol>
<li><a href="https://pypi.python.org/pypi/setuptools" title="setuptools">setuptools</a></li>
<li><a href="https://pypi.python.org/pypi/pyreadline" title="pyreadline">pyreadline</a></li>
<li><a href="https://pypi.python.org/pypi/ipython" title="ipython">IPython</a></li>
</ol>
<h1 id="запуск">Запуск</h1>
<p>Для запуска ноутбука необходимо в терминале выбрать директорию, где будут храниться заметки и воспользоваться командой</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">ipython</span> <span style="color:#111">notebook</span>
</code></pre></div><p>На <code>8888</code> порту будет запущен локальный сервер и в браузере откроется страница с ноутбуком.</p>
<p><img src="/img/ipython_notebook/notebook_1_start.png" alt="Jupyter notebook"></p>
<h1 id="использование">Использование</h1>
<p>Новый документ можно создать с помощью выпадающего меню.</p>
<p><img src="/img/ipython_notebook/notebook_2_new_document.png" alt="New document"></p>
<p>После чего будет создан новый, пустой документ. Переименовать документ можно нажав на строку <em>Untitled</em>, либо через меню <em>File-&gt;Rename</em>.</p>
<p><img src="/img/ipython_notebook/notebook_3_new_document_view.png" alt="New document view"></p>
<p>Документ сохраняется автоматически и правильно понимает сочетание <em>Ctrl-S</em>.</p>
<p>Код в Ipython документах организован в ячейки (<code>cells</code>). По нажатии <em>Ctrl-Enter</em> код в ячейке выполняется и результат вычислений отображается под ней.</p>
<p><img src="/img/ipython_notebook/notebook_4_cell_example.png" alt="Cell example"></p>
<p>Ячейка может относиться к одному из нескольких типов. Выбрать тип ячейки можно используя пункт меню <em>Cell-&gt;Cell Type</em>.</p>
<h2 id="code-cell">Code cell</h2>
<p>Позволяет писать и редактировать код с подсветкой синтаксиса и автоподстановкой (<em>Tab</em>). После добавления директивы</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">%</span><span style="color:#111">matplotlib</span> <span style="color:#111">inline</span>
</code></pre></div><p>в начале ячейки, появляется возможность строить графики прямо в документе.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">%</span><span style="color:#111">matplotlib</span> <span style="color:#111">inline</span>
<span style="color:#f92672">import</span> <span style="color:#111">matplotlib.pyplot</span> <span style="color:#f92672">as</span> <span style="color:#111">plt</span>
<span style="color:#f92672">import</span> <span style="color:#111">matplotlib.image</span> <span style="color:#f92672">as</span> <span style="color:#111">mpimg</span>
<span style="color:#f92672">import</span> <span style="color:#111">numpy</span> <span style="color:#f92672">as</span> <span style="color:#111">np</span>

<span style="color:#111">img</span><span style="color:#f92672">=</span><span style="color:#111">mpimg</span><span style="color:#f92672">.</span><span style="color:#111">imread</span><span style="color:#111">(</span><span style="color:#d88200">&#39;city.jpg&#39;</span><span style="color:#111">)</span>
<span style="color:#00a8c8">print</span> <span style="color:#d88200">&#34;Image size: {0}&#34;</span><span style="color:#f92672">.</span><span style="color:#111">format</span><span style="color:#111">(</span><span style="color:#111">img</span><span style="color:#f92672">.</span><span style="color:#111">shape</span><span style="color:#111">)</span>

<span style="color:#75715e"># Select green channel</span>
<span style="color:#111">img_green</span> <span style="color:#f92672">=</span> <span style="color:#111">img</span><span style="color:#111">[:,:,</span><span style="color:#ae81ff">1</span><span style="color:#111">]</span>
<span style="color:#111">plt</span><span style="color:#f92672">.</span><span style="color:#111">imshow</span><span style="color:#111">(</span><span style="color:#111">img_green</span><span style="color:#111">,</span> <span style="color:#111">cmap</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;Greys_r&#34;</span><span style="color:#111">)</span>
<span style="color:#111">plt</span><span style="color:#f92672">.</span><span style="color:#111">show</span><span style="color:#111">()</span>

<span style="color:#75715e"># Plot green channel row intensity</span>
<span style="color:#111">plt</span><span style="color:#f92672">.</span><span style="color:#111">plot</span><span style="color:#111">(</span><span style="color:#111">img_green</span><span style="color:#111">[</span><span style="color:#ae81ff">150</span><span style="color:#111">,</span> <span style="color:#111">:])</span>
<span style="color:#111">plt</span><span style="color:#f92672">.</span><span style="color:#111">show</span><span style="color:#111">()</span>
</code></pre></div><p><img src="/img/ipython_notebook/notebook_5_code_cell.png" alt="Code cell"></p>
<h2 id="markdown-cell">Markdown cell</h2>
<p>Ячейки для документирования, позволяют использовать <a href="https://daringfireball.net/projects/markdown/" title="Markdown">Markdown</a> синтаксис и математические формулы <a href="https://www.mathjax.org/" title="Mathjax">MathJax</a>.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">### H3 title for the text ###</span>

<span style="color:#111">TODO</span> <span style="color:#111">List</span><span style="color:#111">:</span>

 <span style="color:#ae81ff">1.</span> <span style="color:#111">Create</span> <span style="color:#111">note</span> <span style="color:#111">about</span> <span style="color:#111">IPython</span> <span style="color:#111">notebook</span><span style="color:#f92672">.</span>
 <span style="color:#ae81ff">2.</span> <span style="color:#111">Add</span> <span style="color:#111">part</span> <span style="color:#111">about</span> <span style="color:#111">Markdown</span><span style="color:#f92672">.</span>
 <span style="color:#ae81ff">3.</span> <span style="color:#111">Do</span> <span style="color:#f92672">not</span> <span style="color:#111">forget</span> <span style="color:#111">about</span> <span style="color:#111">MathJax</span><span style="color:#f92672">.</span>
 <span style="color:#ae81ff">4.</span> <span style="color:#111">Add</span> <span style="color:#111">table</span> <span style="color:#f92672">in</span> <span style="color:#111">the</span> <span style="color:#111">end</span><span style="color:#f92672">.</span>
 
<span style="color:#f92672">&lt;</span><span style="color:#111">h4</span><span style="color:#f92672">&gt;</span><span style="color:#111">An</span> <span style="color:#111">Identity</span> <span style="color:#111">of</span> <span style="color:#111">Ramanujan</span><span style="color:#f92672">&lt;/</span><span style="color:#111">h4</span><span style="color:#f92672">&gt;</span>

<span style="color:#960050;background-color:#1e0010">$$</span> \<span style="color:#111">frac</span><span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">}{</span>\<span style="color:#111">Bigl</span><span style="color:#111">(</span>\<span style="color:#111">sqrt</span><span style="color:#111">{</span>\<span style="color:#111">phi</span> \<span style="color:#111">sqrt</span><span style="color:#111">{</span><span style="color:#ae81ff">5</span><span style="color:#111">}}</span><span style="color:#f92672">-</span>\<span style="color:#111">phi</span>\<span style="color:#111">Bigr</span><span style="color:#111">)</span> <span style="color:#111">e</span><span style="color:#f92672">^</span><span style="color:#111">{</span>\<span style="color:#111">frac25</span> \<span style="color:#111">pi</span><span style="color:#111">}}</span> <span style="color:#f92672">=</span>
<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>\<span style="color:#111">frac</span><span style="color:#111">{</span><span style="color:#111">e</span><span style="color:#f92672">^</span><span style="color:#111">{</span><span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>\<span style="color:#111">pi</span><span style="color:#111">}}</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>\<span style="color:#111">frac</span><span style="color:#111">{</span><span style="color:#111">e</span><span style="color:#f92672">^</span><span style="color:#111">{</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>\<span style="color:#111">pi</span><span style="color:#111">}}</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>\<span style="color:#111">frac</span><span style="color:#111">{</span><span style="color:#111">e</span><span style="color:#f92672">^</span><span style="color:#111">{</span><span style="color:#f92672">-</span><span style="color:#ae81ff">6</span>\<span style="color:#111">pi</span><span style="color:#111">}}</span>
<span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>\<span style="color:#111">frac</span><span style="color:#111">{</span><span style="color:#111">e</span><span style="color:#f92672">^</span><span style="color:#111">{</span><span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>\<span style="color:#111">pi</span><span style="color:#111">}}</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>\<span style="color:#111">ldots</span><span style="color:#111">}</span> <span style="color:#111">}</span> <span style="color:#111">}</span> <span style="color:#111">}</span> <span style="color:#960050;background-color:#1e0010">$$</span>

<span style="color:#75715e">#### Simple table</span>

<span style="color:#f92672">|</span> <span style="color:#111">Tables</span> <span style="color:#f92672">|</span> <span style="color:#111">True</span>  <span style="color:#f92672">|</span> <span style="color:#111">False</span> <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#f92672">------</span> <span style="color:#f92672">|</span><span style="color:#111">:</span><span style="color:#f92672">-----</span><span style="color:#111">:</span><span style="color:#f92672">|</span> <span style="color:#f92672">-----</span><span style="color:#111">:</span><span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#111">True</span>   <span style="color:#f92672">|</span> <span style="color:#ae81ff">78</span>    <span style="color:#f92672">|</span> <span style="color:#ae81ff">14</span>    <span style="color:#f92672">|</span>
<span style="color:#f92672">|</span> <span style="color:#111">False</span>  <span style="color:#f92672">|</span> <span style="color:#ae81ff">3</span>     <span style="color:#f92672">|</span> <span style="color:#ae81ff">45</span>    <span style="color:#f92672">|</span>
</code></pre></div><p><img src="/img/ipython_notebook/notebook_6_markdown_cell.png" alt="Markdown cell"></p>
<h2 id="raw-cell">Raw cell</h2>
<p>Эти ячейки служат для хранения дополнительной информации, никак не исполняются и не модифицируются. Например в них можно хранить LaTeX для статьи.</p>
<h1 id="конвертация-notebook-a-в-другие-форматы">Конвертация notebook-a в другие форматы</h1>
<p><a href="https://ipython.org/ipython-doc/1/interactive/nbconvert.html" title="Conver notebook">Конвертировать ноутбук</a> можно командой</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">ipython</span> <span style="color:#111">nbconvert</span> <span style="color:#f92672">--</span><span style="color:#111">to</span> <span style="color:#111">FORMAT</span> <span style="color:#111">notebook</span><span style="color:#f92672">.</span><span style="color:#111">ipynb</span>
</code></pre></div><p>Допустимые форматы:</p>
<ul>
<li><code>--to html</code> - статическая html страница</li>
<li><code>--to latex</code> - LaTeX</li>
<li><code>--to slides</code> - <a href="http://lab.hakim.se/reveal-js/#/" title="Reveal.js">Reveal.js</a> html слайдшоу</li>
<li><code>--to markdown</code> - Markdown, код будет экранирован</li>
<li><code>--to rst</code> - формат для <a href="http://www.sphinx-doc.org/en/stable/">Sphinx docs</a></li>
<li><code>--to python</code> - python скрипт.</li>
</ul>
<h1 id="комбинации-клавиш">Комбинации клавиш</h1>
<ul>
<li><code>Esc</code> - командный режим (создание, удаление, перемещение ячеек)</li>
<li><code>Enter</code> - режим редактирования (изменение содержимого ячейки)</li>
<li><code>Ctrl-Enter</code> - выполнить код в ячейке</li>
<li><code>Shift-Enter</code> - выполнить код в ячейке и перейти к следующей</li>
<li><code>Alt-Enter</code> - выполнить код в ячейке и вставить ячейку снизу</li>
<li><code>Ctrl-M</code> - прервать исполнение</li>
<li><code>A</code> - вставить ячейку выше</li>
<li><code>B</code> - вставить ячейку ниже</li>
<li><code>K</code> - выбрать предыдущую ячейку</li>
<li><code>J</code> - выбрать следующую ячейку</li>
<li><code>D,D</code> - удалить ячейку</li>
<li><code>Y</code> - в code cell</li>
<li><code>M</code> - в markdown cell</li>
<li><code>R</code> - в raw cell</li>
</ul>
</article>
<nav class="no-print post-nav">

	<a class="prev-post" href="re9ulus.github.io/post/2015-12-07-trees_in_r/">
		<img class="icon-text" src="/img/prev.svg"/>Деревья принятия решений в R</a>


	<a class="next-post" href="re9ulus.github.io/post/2016-03-20-xgboost_win_install/">Установка XGBoost на Windows<img class="icon-text" src="/img/next.svg"/>
	</a>

</nav>









<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMath();"></script>



<script>
function renderMath() {
  renderMathInElement(
      document.body,
      {
          delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "\\[", right: "\\]", display: true},
              {left: "$", right: "$", display: false},
              {left: "\\(", right: "\\)", display: false}
          ]
      }
  );
}
</script>



<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(29515615, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/29515615" style="position:absolute; left:-9999px;" alt="" /></div></noscript>



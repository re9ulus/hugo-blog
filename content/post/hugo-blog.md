---
title: "Hugo Blog"
date: 2019-12-30T13:46:48+03:00
draft: true
---

Спустя три года я снова решил взяться за блог. И первым делом захотиелось перенести прошлые посты в jekyll на hugo. Все оказалось не так гладко, как мне хотелось, поэтому решил первым делом написать этот пост о том как собрать себе статически блог на hugo.

### Почему hugo
- быстрый
- простой
- отказаться от ruby

### Поднимаем блог на hugo

1. Устанавливаем hugo

ubuntu
```
apt-get update
apt-get install hugo
```

mac
```
brew install hugo
```

2.  Создаем новый сайт
```
hugo new site awesome-blog
cd awesome-blog
git init
```

3. Выбираем визуальное оформление
Смотрим темы [здесь](https://themes.gohugo.io/) и выбираем понравившуюся. Нажимаем `download`, переходим в git репозиторий темы, берем ссылку.
И дальше у нас есть два пути, просто скопировать репозиторий и положить в `/themes`.
```
git clone https://github.com/qqhann/hugo-primer.git themes/hugo-primer
```
или поставить как submodule
```
git submodule add https://github.com/qqhann/hugo-primer.git themes/hugo-primer
```
Первый вариант хорош, если ты планируешь сильно изменить тему. А второй позволит получать легко получать обновления.

Прописываем тему в конфиг
```
echo 'theme = "hugo-primer"' >> config.toml
```

У многих тем бывают свои заготовленные конфиги, упрощающие настройку. Их нужно искать в репозитории темы.

4. Создаем пост
```
hugo new posts/my-first-post.md
```
и пишем туда свой замечательный контет.

5. Заводим
Используем команду
```
hugo server -D port 1313 --buildDrafts
```
Переходим в браузер и смотрим что получилось.

### Используем github pages как статический хостинг

Hugo и готовый блог будут лежать в разных репозиториях.

1. Сохраняем получившийся на прошлом шаге результат отдельным репозиторием на github.

2. Создаем новый репозиторий для блога <USERNAME>.github.io

3. Идем в папку с hugo и удаляем директорию `/public` (если есть). Привяжем наш статический блог в качестве подмодуля
```
git submodule add -b master git@github.com:<USERNAME>/<USERNAME>.github.io.git public
```

Теперь если мы выполним команду `hugo`, наш блог будет сгенерирован в директорию `public`, которая является локальной копией репозтория <USERNAME>.github.io.git. Остается толькз закоммитить результат.

Ваш блог доступен на https://username.github.io.


# TODO: Поменять в конфиге baseurl
# Рассказать про katex
